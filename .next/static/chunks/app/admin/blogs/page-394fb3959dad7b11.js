(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{1274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),o=r(2115),s=r(5695);function l(){let[e,t]=(0,o.useState)([]),[r,l]=(0,o.useState)(!1),[n,i]=(0,o.useState)(!0),d=(0,s.useRouter)(),[c,u]=(0,o.useState)({title:"",content:"",image:"",excerpt:""});(0,o.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/blogs");if(e.ok){let r=await e.json();t(r)}}catch(e){console.error("Error fetching blogs:",e)}finally{i(!1)}},p=async e=>{e.preventDefault(),l(!0);try{(await fetch("/api/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(u({title:"",content:"",image:"",excerpt:""}),await g())}catch(e){console.error("Error creating blog:",e)}finally{l(!1)}},x=async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{(await fetch("/api/blogs/".concat(e),{method:"DELETE"})).ok&&await g()}catch(e){console.error("Error deleting blog:",e)}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-6",children:"Create New Blog Post"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Title"}),(0,a.jsx)("input",{type:"text",value:c.title,onChange:e=>u({...c,title:e.target.value}),className:"w-full px-4 py-2 rounded-lg bg-gray-900 border border-gray-700 text-white focus:outline-none focus:border-purple-500 transition-colors",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Image URL"}),(0,a.jsx)("input",{type:"text",value:c.image,onChange:e=>u({...c,image:e.target.value}),className:"w-full px-4 py-2 rounded-lg bg-gray-900 border border-gray-700 text-white focus:outline-none focus:border-purple-500 transition-colors",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Excerpt"}),(0,a.jsx)("textarea",{value:c.excerpt,onChange:e=>u({...c,excerpt:e.target.value}),className:"w-full px-4 py-2 rounded-lg bg-gray-900 border border-gray-700 text-white focus:outline-none focus:border-purple-500 transition-colors",rows:3,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Content"}),(0,a.jsx)("textarea",{value:c.content,onChange:e=>u({...c,content:e.target.value}),className:"w-full px-4 py-2 rounded-lg bg-gray-900 border border-gray-700 text-white focus:outline-none focus:border-purple-500 transition-colors",rows:10,required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full py-2 px-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating...":"Create Blog Post"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 mb-6",children:"Published Blog Posts"}),n?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"})}):0===e.length?(0,a.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No blog posts yet."}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"p-6 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg border border-gray-800 hover:border-purple-500/50 transition-all duration-300 group hover:shadow-lg hover:shadow-purple-500/10",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-purple-400 group-hover:to-pink-600 transition-colors",children:e.title}),(0,a.jsx)("p",{className:"text-gray-400",children:e.excerpt}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:new Date(e.createdAt).toLocaleDateString()})]}),e.image&&(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-24 h-24 object-cover rounded-lg ml-4"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>d.push("/admin/blogs/edit/".concat(e.id)),className:"px-4 py-2 text-sm bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 hover:-translate-y-0.5",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>x(e.id),className:"px-4 py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},e.id))})]})]})}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},9826:(e,t,r)=>{Promise.resolve().then(r.bind(r,1274))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9826)),_N_E=e.O()}]);